// Height (and width) of the burger menu
$b-height: 60px
// Burger menu margin (distance from top)
$b-margin-top: 30px
// Burger menu margin (distance from left)
$b-margin-left: 30px
// Width of the borders and 'buns'
$b-border-width: 3px
// Width of the 'buns'
$b-bun-width: 26px
// Height of the 'buns'
$b-bun-height: $b-border-width
// Change the border radius of the menu
$b-border-radius: 50

// Transition speed settings
$b-trans-speed: .4s
// Transitions
$b-transition: all $b-trans-speed ease

// Font size of brand and links
$b-font-size: 18px
// Font family of the brand and links
$b-font-family: 'Lato', sans-serif
// Font weight of brand and links
$b-font-weight: 700
// Left padding on both brand and links
$b-txt-pad: 20px

// Vertically centers brand to menu
$b-line-height: ($b-height / 2 - ($b-font-size / 2.8))
// Top margin for first link element
$b-txt-pad-top: ($b-margin-top + $b-height + $b-txt-pad)
// Half bun width used for calculation
$b-bun-width-half: ($b-bun-width / 2)
// Horizontally centers bun in menu
$b-pad-left: 16px
// Vertically centers bun in menu
$b-pad-top: 17px

@keyframes slideInLeft
  0%
    transform: translate3d(-250px, 0, 0)
    visibility: visible

  100%
    transform: translate3d(0, 0, 0)

@keyframes slideOutLeft
  0%
    transform: translate3d(0, 0, 0)

  100%
    transform: translate3d(-250px, 0, 0)
    visibility: hidden

@keyframes slideInUp
  0%
    transform: translate3d(0, 50px, 0)
    opacity: 0
    visibility: visible

  100%
    transform: translate3d(0, 0, 0)
    opacity: 1

@keyframes slideOutDown
  0%
    transform: translate3d(0, 0, 0)
    opacity: 1

  100%
    transform: translate3d(0, 50px, 0)
    opacity: 0
    visibility: hidden

*
  box-sizing: border-box

body
  &:after
    background: $dk-grey
    content: ''
    height: 100%
    left: 0
    opacity: 0
    overflow: hidden
    padding: 0
    position: fixed
    top: 0
    visibility: hidden
    +transition(all 300ms)
    width: 100%
    z-index: 99
    box-shadow: 3px 0 0 rgba(black, 0.2)

  &.open
    overflow: hidden

  &.open:after
    opacity: 0.99
    visibility: visible

.b-nav
  position: fixed
  z-index: 100
  width: 100%
  height: 100%
  overflow: scroll

  ul
    padding: 0
    margin: 0
    width: 100%
    position: absolute
    top: 50%
    +transform(translate3d(0, -50%, 0))

    @media (max-height: 800px)
      top: 50px
      +transform(translate3d(0, 0, 0))

  &:not(.open)
    visibility: hidden

  li 
    color: white
    list-style-type: none
    box-sizing: border-box
    width: 100%
    padding: 1% 0
    @extend .text-center
    opacity: 0
    margin: 0
    +transition(all 300ms)

    @media (max-height: 800px)
      padding: 15px 0

  li:not(.open)
    // animation-duration: $b-trans-speed
    // animation-fill-mode: both
    // animation-name: slideOutDown
    pointer-events: none

  &.open
    visibility: visible

    li
      // animation-duration: $b-trans-speed
      // animation-fill-mode: both
      // animation-name: slideInUp
      pointer-events: all
      opacity: 1

.b-link
  background: transparent
  border-bottom: rgba(white, 0) solid 1px
  color: white
  font-size: 1.2em
  +transition(all 300ms)
  width: auto
  @extend .text-uppercase
  @extend .text-bold
  letter-spacing: 0.15em
  padding-bottom: 5px

  &:hover,
  &--active
    border-bottom: white solid 1px
    // padding-left: $b-txt-pad

.b-menu
  background: $dk-grey
  border: $dk-grey solid 1px
  border-radius: $b-border-radius
  cursor: pointer
  display: inline-block
  height: $b-height
  padding-left: $b-pad-left
  padding-top: $b-pad-top
  position: fixed
  transition: $b-transition
  user-select: none
  width: $b-height
  +border-radius(50%)
  z-index: 100
  box-shadow: 0 0 20px rgba(black, 0.3)

  &:hover
    border: white solid 1px

.b-bun
  background: white
  position: relative
  transition: $b-transition

  &--top
    height: $b-bun-height
    top: 2px
    width: $b-bun-width

  &--mid
    height: $b-bun-height
    top: 8px
    width: $b-bun-width

  &--bottom
    height: $b-bun-height
    top: 14px
    width: $b-bun-width

.b-container
  height: $b-height
  left: $b-margin-left
  position: fixed
  top: $b-margin-top
  z-index: 100

  &:hover:not(.open)
    .bun-top,
    .bun-mid,
    .bun-bottom
      background: darken($dk-grey, 10)

  &.open
    .b-main
      border: white solid $b-border-width

    .b-menu
      background: $dk-grey
      border-color: $dk-grey

    .b-bun--top
      background: white
      top: 11px
      transform: rotate(45deg)
    
    .b-bun--mid
      opacity: 0

    .b-bun--bottom
      background: white
      top: 5px
      transform: rotate(-45deg)

    .b-brand
      color: white

body.index,
body.resume
  .b-nav,
  .b-container
    display: none